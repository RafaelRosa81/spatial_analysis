# Choose which workflow to run:
#   - "raster_diff"
#   - "polygon_mosaic"
pipeline: "polygon_mosaic"

name: "mosaic_3"
outdir: "outputs/mosaic_3"

# shared convenience override (used by both)
resampling: "bilinear"
excel: true

# -------------------------
# Pipeline A: raster diff
# -------------------------
raster_diff:
  raster1: "D:/Dropbox/MADI/Flaquer/GELIGOLD_TR100/TR100- Padron 62089/01- Terrain/Terrain.Clone (2)_0m.Resampled.tif"
  raster2: "D:/Dropbox/MADI/Flaquer/GELIGOLD_TR100/TR100- Padron 62089/01- Terrain/terreno-previoRelleno.terreno-previoRelleno-Wh.tif"
  thresholds: [0.10, 0.25, 0.50, 1.00]
  bins: 60
  qgis_assets: true
  vector_threshold: 0.5
  signed_vector_threshold: 0.2

# -------------------------
# Pipeline B: polygon mosaic
# -------------------------
polygon_mosaic:
  raster1: "D:/Dropbox/MADI/Flaquer/GELIGOLD_TR100/TR100- Padron 62089/01- Terrain/Terrain.Clone (2)_0m.Resampled.tif"
  raster2: "D:/Dropbox/MADI/Flaquer/GELIGOLD_TR100/TR100- Padron 62089/01- Terrain/terreno-previoRelleno.terreno-previoRelleno-Wh.tif"
  polygon: 'H:\.shortcut-targets-by-id\1dVaBJdVBLWpen05YLj_AP22efYnyFPmr\Trabajos-Alfonso-Rafa\Proyectos_en_ejecucion\Geligold_P_62089_TR100\03-Procesamiento de Informaci√≥n\GIS\Raster\20260109_raster_previo_relleno\poligono_mosaico_rasters.shp'

  outputs:
    new_raster: "mosaic_dem3.tif"
    excel_report: "mosaic3_report.xlsx"
    save_intermediates: true

  vertical_adjustment:
    enabled: true
    mad_threshold: 0.10
    min_overlap_pixels: 50000
    exclude_polygon_buffer_px: 5

  border_blending:
    enabled: true
    blend_width_px: 5
